<!DOCTYPE html>
<html lang="en">
  <head id='head'>
    <meta charset="UTF-8" />
    <script>
      window.RPC = {
        _broadcast_: {
          _any_: {}
        }
      }
      </script>
    <link rel="icon" type="image" href="/assets/api.ico" />
    <meta id='vport' name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPC Apitest</title>
  </head>
  <body>
    <script>
      const ports = {
        '3002': `https://${location.hostname}:3002`,
        '3001':  `http://${location.hostname}:3001`,
        '5173':  `http://${location.hostname}:3001`
      }

      const src1 = document.createElement('script')
      const src2 = document.createElement('script')
      const src3 = document.createElement('link')

      const path = ports[location.port]
      src1.src = `${path}/js/client.js`
      src2.src = `${path}/js/isomorphics.js`
      src3.href= `${path}/Fave.ico`
      src3.type= 'image'

      const head  = document.getElementById('head')
      const vport = document.getElementById('vport')

      head.insertBefore(src1, vport)
      head.insertBefore(src2, vport)
      head.insertBefore(src3, vport)
    </script>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
